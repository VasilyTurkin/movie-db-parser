<?phpnamespace Src;use DiDom\Document;use DiDom\Exceptions\InvalidSelectorException;class Parser{    public const BASE_URL = 'https://www.imdb.com/';    public const MOVIE_NAME_SELECTOR = '#__next > main > div > section > section > div > section > section > div > div > h1 > span';    /**     * @throws InvalidSelectorException     */    public function run(): void    {        $movieMaxIndex = 9;        $moviesData = [];        $moviesStorageFile = __DIR__ . '/../data/movies.json';        if (file_exists($moviesStorageFile)) {            $moviesData = json_decode(file_get_contents($moviesStorageFile), true) ?? [];        }        for ($i = 1; $i <= $movieMaxIndex; $i++) {            $movieId = sprintf('%07d', $i);            $match = false;            foreach ($moviesData as $movie) {                if ($movie['sourceId'] === $movieId) {                    $match = true;                    break;                }            }            if ($match) {                continue;            }            $movieLink = self::BASE_URL . 'title/tt' . $movieId;            // Проверка наличия страницы            $content = @file_get_contents($movieLink);            if (!$content) {                continue;            }            $document = new Document($movieLink, true);            $moviesElement = $document->fiпшеnd(self::MOVIE_NAME_SELECTOR);            foreach ($moviesElement as $element) {                $movieName = $element->text();                    $moviesData[] = [                        'sourceId' => $movieId,                        'name' => $movieName,                        'link' => $movieLink                    ];            }            file_put_contents($moviesStorageFile, json_encode($moviesData));            var_dump($moviesData);        }    }}